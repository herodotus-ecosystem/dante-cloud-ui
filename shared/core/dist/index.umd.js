!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("axios"),require("qs"),require("@vueuse/integrations/useAxios"),require("ts-md5"),require("lodash-es"),require("moment"),require("moment/dist/locale/zh-cn"),require("generate-avatar"),require("sm-crypto-v2"),require("js-base64"),require("sweetalert2"),require("crypto-js")):"function"==typeof define&&define.amd?define(["exports","axios","qs","@vueuse/integrations/useAxios","ts-md5","lodash-es","moment","moment/dist/locale/zh-cn","generate-avatar","sm-crypto-v2","js-base64","sweetalert2","crypto-js"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["@herodotus-cloud/core"]={},t.Axios,t.Qs,t.VueuseIntegrationsUseAxios,t.TsMd5,t.LodashEs,t.Moment,t.MomentDistLocaleZhcn,t.GenerateAvatar,t.SmCryptoV2,t.JsBase64,t.Sweetalert2,t.CryptoJs)}(this,function(t,e,n,s,r,i,a,o,c,u,d,h,l){"use strict";var g=(t=>(t[t.URL_ENCODED=0]="URL_ENCODED",t[t.MULTI_PART=1]="MULTI_PART",t[t.TEXT=2]="TEXT",t[t.JSON=3]="JSON",t))(g||{}),m=(t=>(t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t))(m||{}),p=(t=>(t[t.FORBIDDEN=0]="FORBIDDEN",t[t.ENABLE=1]="ENABLE",t[t.LOCKING=2]="LOCKING",t[t.EXPIRED=3]="EXPIRED",t))(p||{}),f=(t=>(t.BASIC="Basic ",t.BEARER="Bearer ",t))(f||{}),y=(t=>(t.AUTHORIZATION_CODE="authorization_code",t.REFRESH_TOKEN="refresh_token",t.CLIENT_CREDENTIALS="client_credentials",t.PASSWORD="password",t.SOCIAL_CREDENTIALS="social_credentials",t.WEBAUTHN_CREDENTIALS="webauthn_credentials",t.DEVICE_CODE="urn:ietf:params:oauth:grant-type:device_code",t.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer",t.TOKEN_EXCHANGE="urn:ietf:params:oauth:grant-type:token-exchange",t))(y||{}),A=(t=>(t.CLIENT_SECRET_BASIC="client_secret_basic",t.CLIENT_SECRET_POST="client_secret_post",t.CLIENT_SECRET_JWT="client_secret_jwt",t.PRIVATE_KEY_JWT="private_key_jwt",t.NONE="none",t.TLS_CLIENT_AUTH="tls_client_auth",t.SELF_SIGNED_TLS_CLIENT_AUTH="self_signed_tls_client_auth",t))(A||{}),E=(t=>(t.OPENID="openid",t.EMAIL="email",t.PROFILE="profile",t.PHONE="phone",t.ADDRESS="address",t.ROLES="roles",t.CLIENT_CREATE="client.create",t.CLIENT_READ="client.read",t))(E||{}),I=(t=>(t.CREATE="create",t.EDIT="edit",t.AUTHORIZE="authorize",t.INFO="info",t.ALLOCATABLE="allocatable",t.SETUP="setup",t.INVOKE="invoke",t))(I||{}),T=(t=>(t[t.URL_ENCODED=0]="URL_ENCODED",t[t.MULTI_PART=1]="MULTI_PART",t[t.TEXT=2]="TEXT",t[t.JSON=3]="JSON",t))(T||{}),C=(t=>(t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t))(C||{}),w=(t=>(t.BASIC="Basic ",t.BEARER="Bearer ",t))(w||{});a.locale("zh-cn"),class AvatarUtilities5{static instance=new AvatarUtilities5;constructor(){}static getInstance(){return this.instance}generate(t){return`data:image/svg+xml;utf8,${c.generateFromString(t)}`}}.getInstance();let S=class SM2Utilities5{static instance=new SM2Utilities5;cipherMode=1;constructor(){}static getInstance(){return this.instance}createKeyPair(){return u.sm2.generateKeyPairHex()}encrypt(t,e){return"04"+u.sm2.doEncrypt(t,e,this.cipherMode)}decrypt(t,e){let n=t.substring(2).toLocaleLowerCase();return u.sm2.doDecrypt(n,e,this.cipherMode,{output:"string"})}},P=class SM4Utilities5{static instance=new SM4Utilities5;constructor(){}static getInstance(){return this.instance}encrypt(t,e){return u.sm4.encrypt(t,e,{output:"string"})}decrypt(t,e){return u.sm4.decrypt(t,e,{output:"string"})}};S.getInstance(),P.getInstance();const U=h.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:2e3,timerProgressBar:!1,didOpen:t=>{t.addEventListener("mouseenter",h.stopTimer),t.addEventListener("mouseleave",h.resumeTimer)}});(class Notify5{static instance=new Notify5;constructor(){}static getInstance(){return this.instance}information(t,e,n){return h.fire({title:t,text:e,position:"top",icon:n,timer:5e3,showConfirmButton:!1,showClass:{popup:"animate__animated animate__fadeIn"},hideClass:{popup:"animate__animated animate__fadeOut"}})}info(t,e=""){return this.information(t,e,"info")}error(t,e=""){return this.information(t,e,"error")}warning(t,e=""){return this.information(t,e,"warning")}success(t,e=""){return this.information(t,e,"success")}question(t,e=""){return this.information(t,e,"question")}}).getInstance(),class Toast5{static instance=new Toast5;constructor(){}static getInstance(){return this.instance}information(t,e){return U.fire({icon:e,title:t})}info(t){return this.information(t,"info")}error(t){return this.information(t,"error")}warning(t){return this.information(t,"warning")}success(t){return this.information(t,"success")}question(t){return this.information(t,"question")}}.getInstance(),class PkceUtilities5{static instance=new PkceUtilities5;constructor(){}static getInstance(){return this.instance}toBytesInt32(t){const e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),e}getRandomValues(t){const e=l.lib.WordArray.random(t),n=[];return e.words.forEach(t=>{const e=this.toBytesInt32(t),s=new Uint8Array(e);for(let r=0;r<4;r++){let t=s[r];void 0!==t&&n.push(t)}}),n}random(t){let e="";const n=this.getRandomValues(t);for(let s=0;s<t;s++){let t=n[s];void 0!==t&&(e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~"[t%66])}return e}generateVerifier(t){return this.random(t)}generateChallenge(t){return l.SHA256(t).toString(l.enc.Base64url)}generateCodePair(t=43){if(t<43||t>128)throw`Expected a length between 43 and 128. Received ${t}.`;const e=this.generateVerifier(t);return{codeVerifier:e,codeChallenge:this.generateChallenge(e)}}verifyChallenge(t,e){return this.generateChallenge(t)===e}}.getInstance(),a.locale("zh-cn");class AvatarUtilities2{static instance=new AvatarUtilities2;constructor(){}static getInstance(){return this.instance}generate(t){return`data:image/svg+xml;utf8,${c.generateFromString(t)}`}}AvatarUtilities2.getInstance();class SM2Utilities2{static instance=new SM2Utilities2;cipherMode=1;constructor(){}static getInstance(){return this.instance}createKeyPair(){return u.sm2.generateKeyPairHex()}encrypt(t,e){return"04"+u.sm2.doEncrypt(t,e,this.cipherMode)}decrypt(t,e){let n=t.substring(2).toLocaleLowerCase();return u.sm2.doDecrypt(n,e,this.cipherMode,{output:"string"})}}class SM4Utilities2{static instance=new SM4Utilities2;constructor(){}static getInstance(){return this.instance}encrypt(t,e){return u.sm4.encrypt(t,e,{output:"string"})}decrypt(t,e){return u.sm4.decrypt(t,e,{output:"string"})}}SM2Utilities2.getInstance(),SM4Utilities2.getInstance();const _=h.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:2e3,timerProgressBar:!1,didOpen:t=>{t.addEventListener("mouseenter",h.stopTimer),t.addEventListener("mouseleave",h.resumeTimer)}});class Notify2{static instance=new Notify2;constructor(){}static getInstance(){return this.instance}information(t,e,n){return h.fire({title:t,text:e,position:"top",icon:n,timer:5e3,showConfirmButton:!1,showClass:{popup:"animate__animated animate__fadeIn"},hideClass:{popup:"animate__animated animate__fadeOut"}})}info(t,e=""){return this.information(t,e,"info")}error(t,e=""){return this.information(t,e,"error")}warning(t,e=""){return this.information(t,e,"warning")}success(t,e=""){return this.information(t,e,"success")}question(t,e=""){return this.information(t,e,"question")}}Notify2.getInstance();class Toast2{static instance=new Toast2;constructor(){}static getInstance(){return this.instance}information(t,e){return _.fire({icon:e,title:t})}info(t){return this.information(t,"info")}error(t){return this.information(t,"error")}warning(t){return this.information(t,"warning")}success(t){return this.information(t,"success")}question(t){return this.information(t,"question")}}Toast2.getInstance();class PkceUtilities2{static instance=new PkceUtilities2;constructor(){}static getInstance(){return this.instance}toBytesInt32(t){const e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),e}getRandomValues(t){const e=l.lib.WordArray.random(t),n=[];return e.words.forEach(t=>{const e=this.toBytesInt32(t),s=new Uint8Array(e);for(let r=0;r<4;r++){let t=s[r];void 0!==t&&n.push(t)}}),n}random(t){let e="";const n=this.getRandomValues(t);for(let s=0;s<t;s++){let t=n[s];void 0!==t&&(e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~"[t%66])}return e}generateVerifier(t){return this.random(t)}generateChallenge(t){return l.SHA256(t).toString(l.enc.Base64url)}generateCodePair(t=43){if(t<43||t>128)throw`Expected a length between 43 and 128. Received ${t}.`;const e=this.generateVerifier(t);return{codeVerifier:e,codeChallenge:this.generateChallenge(e)}}verifyChallenge(t,e){return this.generateChallenge(t)===e}}PkceUtilities2.getInstance(),a.locale("zh-cn");class AvatarUtilities3{static instance=new AvatarUtilities3;constructor(){}static getInstance(){return this.instance}generate(t){return`data:image/svg+xml;utf8,${c.generateFromString(t)}`}}AvatarUtilities3.getInstance();class SM2Utilities3{static instance=new SM2Utilities3;cipherMode=1;constructor(){}static getInstance(){return this.instance}createKeyPair(){return u.sm2.generateKeyPairHex()}encrypt(t,e){return"04"+u.sm2.doEncrypt(t,e,this.cipherMode)}decrypt(t,e){let n=t.substring(2).toLocaleLowerCase();return u.sm2.doDecrypt(n,e,this.cipherMode,{output:"string"})}}class SM4Utilities3{static instance=new SM4Utilities3;constructor(){}static getInstance(){return this.instance}encrypt(t,e){return u.sm4.encrypt(t,e,{output:"string"})}decrypt(t,e){return u.sm4.decrypt(t,e,{output:"string"})}}SM2Utilities3.getInstance(),SM4Utilities3.getInstance();const x=h.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:2e3,timerProgressBar:!1,didOpen:t=>{t.addEventListener("mouseenter",h.stopTimer),t.addEventListener("mouseleave",h.resumeTimer)}});class Notify3{static instance=new Notify3;constructor(){}static getInstance(){return this.instance}information(t,e,n){return h.fire({title:t,text:e,position:"top",icon:n,timer:5e3,showConfirmButton:!1,showClass:{popup:"animate__animated animate__fadeIn"},hideClass:{popup:"animate__animated animate__fadeOut"}})}info(t,e=""){return this.information(t,e,"info")}error(t,e=""){return this.information(t,e,"error")}warning(t,e=""){return this.information(t,e,"warning")}success(t,e=""){return this.information(t,e,"success")}question(t,e=""){return this.information(t,e,"question")}}Notify3.getInstance();class Toast3{static instance=new Toast3;constructor(){}static getInstance(){return this.instance}information(t,e){return x.fire({icon:e,title:t})}info(t){return this.information(t,"info")}error(t){return this.information(t,"error")}warning(t){return this.information(t,"warning")}success(t){return this.information(t,"success")}question(t){return this.information(t,"question")}}Toast3.getInstance();class PkceUtilities3{static instance=new PkceUtilities3;constructor(){}static getInstance(){return this.instance}toBytesInt32(t){const e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),e}getRandomValues(t){const e=l.lib.WordArray.random(t),n=[];return e.words.forEach(t=>{const e=this.toBytesInt32(t),s=new Uint8Array(e);for(let r=0;r<4;r++){let t=s[r];void 0!==t&&n.push(t)}}),n}random(t){let e="";const n=this.getRandomValues(t);for(let s=0;s<t;s++){let t=n[s];void 0!==t&&(e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~"[t%66])}return e}generateVerifier(t){return this.random(t)}generateChallenge(t){return l.SHA256(t).toString(l.enc.Base64url)}generateCodePair(t=43){if(t<43||t>128)throw`Expected a length between 43 and 128. Received ${t}.`;const e=this.generateVerifier(t);return{codeVerifier:e,codeChallenge:this.generateChallenge(e)}}verifyChallenge(t,e){return this.generateChallenge(t)===e}}PkceUtilities3.getInstance(),a.locale("zh-cn");class AvatarUtilities4{static instance=new AvatarUtilities4;constructor(){}static getInstance(){return this.instance}generate(t){return`data:image/svg+xml;utf8,${c.generateFromString(t)}`}}AvatarUtilities4.getInstance();class SM2Utilities4{static instance=new SM2Utilities4;cipherMode=1;constructor(){}static getInstance(){return this.instance}createKeyPair(){return u.sm2.generateKeyPairHex()}encrypt(t,e){return"04"+u.sm2.doEncrypt(t,e,this.cipherMode)}decrypt(t,e){let n=t.substring(2).toLocaleLowerCase();return u.sm2.doDecrypt(n,e,this.cipherMode,{output:"string"})}}class SM4Utilities4{static instance=new SM4Utilities4;constructor(){}static getInstance(){return this.instance}encrypt(t,e){return u.sm4.encrypt(t,e,{output:"string"})}decrypt(t,e){return u.sm4.decrypt(t,e,{output:"string"})}}SM2Utilities4.getInstance(),SM4Utilities4.getInstance();const v=h.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:2e3,timerProgressBar:!1,didOpen:t=>{t.addEventListener("mouseenter",h.stopTimer),t.addEventListener("mouseleave",h.resumeTimer)}});class Notify4{static instance=new Notify4;constructor(){}static getInstance(){return this.instance}information(t,e,n){return h.fire({title:t,text:e,position:"top",icon:n,timer:5e3,showConfirmButton:!1,showClass:{popup:"animate__animated animate__fadeIn"},hideClass:{popup:"animate__animated animate__fadeOut"}})}info(t,e=""){return this.information(t,e,"info")}error(t,e=""){return this.information(t,e,"error")}warning(t,e=""){return this.information(t,e,"warning")}success(t,e=""){return this.information(t,e,"success")}question(t,e=""){return this.information(t,e,"question")}}Notify4.getInstance();class Toast4{static instance=new Toast4;constructor(){}static getInstance(){return this.instance}information(t,e){return v.fire({icon:e,title:t})}info(t){return this.information(t,"info")}error(t){return this.information(t,"error")}warning(t){return this.information(t,"warning")}success(t){return this.information(t,"success")}question(t){return this.information(t,"question")}}Toast4.getInstance();class PkceUtilities4{static instance=new PkceUtilities4;constructor(){}static getInstance(){return this.instance}toBytesInt32(t){const e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),e}getRandomValues(t){const e=l.lib.WordArray.random(t),n=[];return e.words.forEach(t=>{const e=this.toBytesInt32(t),s=new Uint8Array(e);for(let r=0;r<4;r++){let t=s[r];void 0!==t&&n.push(t)}}),n}random(t){let e="";const n=this.getRandomValues(t);for(let s=0;s<t;s++){let t=n[s];void 0!==t&&(e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~"[t%66])}return e}generateVerifier(t){return this.random(t)}generateChallenge(t){return l.SHA256(t).toString(l.enc.Base64url)}generateCodePair(t=43){if(t<43||t>128)throw`Expected a length between 43 and 128. Received ${t}.`;const e=this.generateVerifier(t);return{codeVerifier:e,codeChallenge:this.generateChallenge(e)}}verifyChallenge(t,e){return this.generateChallenge(t)===e}}PkceUtilities4.getInstance();let R=new Map;const O=t=>{if(!i.isEmpty(t.params)){const e=r.Md5.hashStr(t.params);return[t.method,t.url,e].join("&")}return[t.method,t.url].join("&")};class AxiosCanceler{addPending(t){this.removePending(t);const n=O(t);t.cancelToken=t.cancelToken||new e.CancelToken(t=>{R.has(n)||R.set(n,t)})}removeAllPending(){R.forEach(t=>{t&&i.isFunction(t)&&t()}),R.clear()}removePending(t){const e=O(t);if(R.has(e)){const t=R.get(e);t&&t(e),R.delete(e)}}reset(){R=new Map}}class Service{config;constructor(t){this.config=t}getConfig(){return this.config}getParamPath(t,e){return t+"/"+e}getIdPath(t){return this.getParamPath(this.getBaseAddress(),t)}}a.locale("zh-cn");class AvatarUtilities{static instance=new AvatarUtilities;constructor(){}static getInstance(){return this.instance}generate(t){return`data:image/svg+xml;utf8,${c.generateFromString(t)}`}}const B=AvatarUtilities.getInstance();class SM2Utilities{static instance=new SM2Utilities;cipherMode=1;constructor(){}static getInstance(){return this.instance}createKeyPair(){return u.sm2.generateKeyPairHex()}encrypt(t,e){return"04"+u.sm2.doEncrypt(t,e,this.cipherMode)}decrypt(t,e){let n=t.substring(2).toLocaleLowerCase();return u.sm2.doDecrypt(n,e,this.cipherMode,{output:"string"})}}class SM4Utilities{static instance=new SM4Utilities;constructor(){}static getInstance(){return this.instance}encrypt(t,e){return u.sm4.encrypt(t,e,{output:"string"})}decrypt(t,e){return u.sm4.decrypt(t,e,{output:"string"})}}const L=SM2Utilities.getInstance(),M=SM4Utilities.getInstance(),N=h.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:2e3,timerProgressBar:!1,didOpen:t=>{t.addEventListener("mouseenter",h.stopTimer),t.addEventListener("mouseleave",h.resumeTimer)}});class Notify{static instance=new Notify;constructor(){}static getInstance(){return this.instance}information(t,e,n){return h.fire({title:t,text:e,position:"top",icon:n,timer:5e3,showConfirmButton:!1,showClass:{popup:"animate__animated animate__fadeIn"},hideClass:{popup:"animate__animated animate__fadeOut"}})}info(t,e=""){return this.information(t,e,"info")}error(t,e=""){return this.information(t,e,"error")}warning(t,e=""){return this.information(t,e,"warning")}success(t,e=""){return this.information(t,e,"success")}question(t,e=""){return this.information(t,e,"question")}}const b=Notify.getInstance();class Toast{static instance=new Toast;constructor(){}static getInstance(){return this.instance}information(t,e){return N.fire({icon:e,title:t})}info(t){return this.information(t,"info")}error(t){return this.information(t,"error")}warning(t){return this.information(t,"warning")}success(t){return this.information(t,"success")}question(t){return this.information(t,"question")}}const q=Toast.getInstance();class PkceUtilities{static instance=new PkceUtilities;constructor(){}static getInstance(){return this.instance}toBytesInt32(t){const e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),e}getRandomValues(t){const e=l.lib.WordArray.random(t),n=[];return e.words.forEach(t=>{const e=this.toBytesInt32(t),s=new Uint8Array(e);for(let r=0;r<4;r++){let t=s[r];void 0!==t&&n.push(t)}}),n}random(t){const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~";let n="";const s=this.getRandomValues(t);for(let r=0;r<t;r++){let t=s[r];if(void 0!==t){n+=e[t%66]}}return n}generateVerifier(t){return this.random(t)}generateChallenge(t){return l.SHA256(t).toString(l.enc.Base64url)}generateCodePair(t=43){if(t<43||t>128)throw`Expected a length between 43 and 128. Received ${t}.`;const e=this.generateVerifier(t);return{codeVerifier:e,codeChallenge:this.generateChallenge(e)}}verifyChallenge(t,e){return this.generateChallenge(t)===e}}const D=PkceUtilities.getInstance();t.moment=a,Object.defineProperty(t,"Base64",{enumerable:!0,get:()=>d.Base64}),t.Swal=h,t.AbstractService=class AbstractService extends Service{getConditionAddress(){return this.getBaseAddress()+"/condition"}getListAddress(){return this.getBaseAddress()+"/list"}getTreeAddress(){return this.getBaseAddress()+"/tree"}fetch(t={}){return this.getConfig().getHttp().get(this.getBaseAddress(),t)}fetchByPage(t,e={}){if(i.isEmpty(e))return this.getConfig().getHttp().get(this.getBaseAddress(),t);{const n=Object.assign(t,e);return this.getConfig().getHttp().get(this.getConditionAddress(),n)}}fetchAll(t={}){return this.getConfig().getHttp().get(this.getListAddress(),t)}fetchTree(t={}){return this.getConfig().getHttp().get(this.getTreeAddress(),t)}saveOrUpdate(t){return this.getConfig().getHttp().post(this.getBaseAddress(),t)}delete(t){return this.getConfig().getHttp().delete(this.getIdPath(t))}assign(t){return this.getConfig().getHttp().put(this.getBaseAddress(),t,{contentType:T.URL_ENCODED})}},t.AuthorizationGrantTypeEnum=y,t.AuthorizationTokenEnum=f,t.AvatarUtils=B,t.Axios=class Axios{axiosInstance;defaultAxiosRequestConfig;defaultRequestOptions;axiosInstanceHooks;constructor(t,e,n){this.defaultAxiosRequestConfig=t,this.defaultRequestOptions=n,this.axiosInstanceHooks=e,this.axiosInstance=this.createAxiosInstance(t),this.setupInterceptors()}createAxiosInstance(t){return e.create(t)}getDefaultAxiosRequestConfig(){return this.defaultAxiosRequestConfig}getDefaultRequestOptions(){return this.defaultRequestOptions}getAxiosInstanceHooks(){return this.axiosInstanceHooks}getAxiosInstance(){return this.axiosInstance}createHttpHeaderPolicy(t){switch(t){case T.URL_ENCODED:return{headers:{"Content-Type":"application/x-www-form-urlencoded"},dataConvert:t=>n.stringify(t,{arrayFormat:"brackets"})};case T.MULTI_PART:return{headers:{"Content-Type":"multipart/form-data"},dataConvert:t=>t};default:return{headers:{"Content-Type":"application/json"},dataConvert:t=>JSON.stringify(t)}}}setupInterceptors(){const t=this.getAxiosInstanceHooks();if(!t)return;const{requestInterceptors:e,requestInterceptorsError:n,responseInterceptors:s,responseInterceptorsError:r}=t,i=new AxiosCanceler;this.getAxiosInstance().interceptors.request.use(t=>{const{prohibitRepeatRequests:n}=this.getDefaultRequestOptions();return n&&i.addPending(t),e(t)},t=>n(this.getAxiosInstance(),t)),this.getAxiosInstance().interceptors.response.use(t=>(t&&i.removePending(t.config),s(t)),t=>r(this.getAxiosInstance(),t))}mergeHttpRequestOptions(t){const e=this.getDefaultRequestOptions();return i.isEmpty(t)?e:i.merge({},e,t)}mergeAxiosRequestConfigs(t){const e=this.getDefaultAxiosRequestConfig(),s={serialize:t=>n.stringify(t,{arrayFormat:"brackets"})},r=i.merge({},e,{paramsSerializer:s});return i.isEmpty(t)?r:i.merge({},r,t)}setupRequestStrategy(t,e,n){const{onRequestHook:s}=this.getAxiosInstanceHooks(),r=this.mergeHttpRequestOptions(n);let a=this.mergeAxiosRequestConfigs(e);s&&i.isFunction(s)&&(a=s(a,r));const o=this.createHttpHeaderPolicy(r.contentType);return a.headers?a.headers=i.merge(a.headers,o.headers):a.headers=o.headers,a.url=t,i.isEmpty(a.data)||(a.data=o.dataConvert(a.data)),{config:a,options:r}}request(t,e){return new Promise((n,s)=>{const{onResponseErrorHook:r,onResponseSuccessHook:a}=this.getAxiosInstanceHooks();this.getAxiosInstance().request(t).then(t=>{if(a&&i.isFunction(a)){const s=a(t,e);n(s)}else n(t)}).catch(t=>{if(r&&i.isFunction(r)){const n=r(t,e);s(n)}else s(t)})})}process(t,e,n={}){let s=this.setupRequestStrategy(t,e,n);return this.request(s.config,s.options)}get(t,e={},n={contentType:T.JSON}){return this.process(t,{params:e,method:C.GET},n)}post(t,e,n={contentType:T.JSON},s){return this.process(t,{...s,data:e,method:C.POST},n)}postWithParams(t,e,n={},s={contentType:T.JSON},r){return this.process(t,{...r,params:e,data:n,method:C.POST},s)}put(t,e,n={contentType:T.JSON},s){return this.process(t,{...s,data:e,method:C.PUT},n)}putWithParams(t,e,n={},s={contentType:T.JSON},r){return this.process(t,{...r,params:e,data:n,method:C.PUT},s)}delete(t,e={},n={contentType:T.JSON}){return this.process(t,{data:e,method:C.DELETE},n)}deleteWithParams(t,e,n={},s={contentType:T.JSON}){return this.process(t,{params:e,data:n,method:C.DELETE},s)}},t.BuildInScopeEnum=E,t.ClientAuthenticationMethodEnum=A,t.ContentTypeEnum=g,t.HttpConfig=class HttpConfig{http={};project="";clientId="";clientSecret="";oidc=!1;uaaAddress="";upmsAddress="";msgAddress="";ossAddress="";bpmnAddress="";cmdbAddress="";iotAddress="";manageAddress="";proxy="";constructor(t,e){this.http=t,this.project=e.project,this.clientId=e.clientId,this.clientSecret=e.clientSecret,this.oidc=!!e.oidc&&e.oidc,this.proxy=e.proxy?e.proxy:"/api",this.switch(e.project)}switch(t){switch(t){case"dante":this.uaaAddress="/dante-cloud-uaa",this.upmsAddress="/dante-cloud-upms",this.msgAddress="/dante-cloud-message",this.ossAddress="/dante-cloud-oss-ability",this.bpmnAddress="/dante-cloud-bpmn-ability/engine-rest",this.cmdbAddress="/dante-cloud-cmdb-ability",this.iotAddress="/dante-cloud-iot-ability",this.manageAddress="/dante-cloud-manage-ability";break;case"herodotus":this.uaaAddress="/herodotus-cloud-uaa",this.upmsAddress="/herodotus-cloud-upms",this.msgAddress="/herodotus-cloud-message",this.ossAddress="/herodotus-cloud-oss-ability",this.bpmnAddress="/herodotus-cloud-bpmn-ability/engine-rest",this.cmdbAddress="/herodotus-cloud-cmdb-ability",this.iotAddress="/herodotus-cloud-iot-ability",this.manageAddress="/herodotus-cloud-manage-ability";break;default:this.uaaAddress="",this.upmsAddress="",this.msgAddress="",this.ossAddress="",this.bpmnAddress="/engine-rest",this.cmdbAddress="",this.iotAddress="",this.manageAddress=""}}getProject(){return this.project}getClientSecret(){return this.clientSecret}getClientId(){return this.clientId}isOidc(){return this.oidc}getProxy(){return this.proxy}getHttp(){return this.http}processProxy(t,e=!0){return e?this.proxy+t:t}getUaa(t=!0){return this.processProxy(this.uaaAddress,t)}getUpms(t=!0){return this.processProxy(this.upmsAddress,t)}getMsg(t=!0){return this.processProxy(this.msgAddress,t)}getOss(t=!0){return this.processProxy(this.ossAddress,t)}getBpmn(t=!0,e=!1){let n=this.processProxy(this.bpmnAddress,t);return e?i.replace(n,"engine-rest","camunda-extended"):n}getCmdb(t=!0){return this.processProxy(this.cmdbAddress,t)}getIot(t=!0){return this.processProxy(this.iotAddress,t)}getManage(t=!0){return this.processProxy(this.manageAddress,t)}},t.HttpMethodEnum=m,t.OperationEnum=I,t.PKCE=D,t.SM2Utils=L,t.SM4Utils=M,t.Service=Service,t.StatusEnum=p,t.isSuccess=t=>!(!t||!("statusText"in t))&&/^(2|3)\d{2}$/.test(String(t.status)),t.logResponse=t=>{Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())},t.notify=b,t.parseResponseStatus=(t,e)=>{let n={};n="statusText"in t?t.data:t;const s={status:t.status,code:0,detail:""};return s.code=n&&n.code?n.code:0,s.detail=n.error&&n.error.detail?n.error.detail:"",n.message?s.message=n.message:n.error&&n.error.message?s.message=n.error.message:e&&(s.message=e),s},t.standardDeleteNotify=(t,e)=>{h.fire({title:"确定删除?",text:"您将无法恢复此操作！",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"是的, 删除!",cancelButtonText:"取消"}).then(n=>{n.value?t():e&&e()})},t.toast=q,t.useHttp=function(t){const r={timeout:12e3,paramsSerializer:t=>n.stringify(t,{arrayFormat:"brackets"})},a=(t,e)=>{const n=(t=>{switch(t){case T.URL_ENCODED:return{"Content-Type":"application/x-www-form-urlencoded"};case T.MULTI_PART:return{"Content-Type":"multipart/form-data"};default:return{"Content-Type":"application/json"}}})(t);return e?i.assignIn({},n,e):n},o=e.create(t?i.assignIn(r,t):r),c=(t,e={},n={},r=C.GET,i=T.JSON,c)=>{const{execute:u}=s.useAxios(t,{headers:a(i,c),method:r},o,{immediate:!1}),d={};return e&&(d.data=e),n&&(d.params=n),new Promise((t,e)=>{u(d).then(e=>{const n=e.response.value;t(n)}).catch(t=>{e(t)})})};return{doGet:(t,e={},n)=>c(t,"",e,C.GET,T.JSON,n),doPost:(t,e={},n=T.JSON,s={},r)=>c(t,e,s,C.POST,n,r),doPut:(t,e={},n=T.JSON,s={})=>c(t,e,s,C.PUT,n),doDelete:(t,e={},n=T.JSON,s={})=>c(t,e,s,C.DELETE,n),createHeaderWithBearer:(t,e,n)=>{const s={Authorization:w.BEARER+t};return e&&(s["X-Herodotus-Session-Id"]=e),n&&(s["X-Herodotus-Tenant-Id"]=n),s},createHeaderWithBasic:(t,e,n,s)=>{const r={Authorization:w.BASIC+d.Base64.encode(t+":"+e)};return n&&(r["X-Herodotus-Session-Id"]=n),s&&(r["X-Herodotus-Tenant-Id"]=s),r}}},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
