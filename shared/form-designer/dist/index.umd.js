!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("quasar"),require("vue"),require("vuedraggable"),require("pinia"),require("@herodotus/core"),require("@herodotus/form-engine")):"function"==typeof define&&define.amd?define(["exports","quasar","vue","vuedraggable","pinia","@herodotus/core","@herodotus/form-engine"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@herodotus/form-designer"]={},e.quasar,e.vue,e.vuedraggable,e.pinia,e.HerodotusCore,e.HerodotusFormEngine)}(this,(function(e,t,a,o,r,n,l){"use strict";const i=(e=>e&&"object"==typeof e&&"default"in e?e:{default:e})(o),d=r.defineStore("CanvasDataObjects",{state:()=>({drawingDataObjects:[],currentDataObject:{}}),getters:{isSelected:e=>t=>!(n.lodash.isEmpty(e.currentDataObject)||!e.currentDataObject.id)&&e.currentDataObject.config.renderKey===t},actions:{addDataObject(e){this.drawingDataObjects.push(e),this.selectDataObject(e)},removeDataObject(e){},selectDataObject(e){this.currentDataObject=e}}}),c=a.defineComponent({name:"HWidgetPanel",components:{Draggable:i.default},setup(){const e=l.WIDGET_DEFINITIONS,t=d(),a=e=>l.DataObjectUtils.create(e),o=e=>{t.addDataObject(e)};return{widgetGroups:e,cloneWidget:a,addWidget:e=>{const t=a(e);o(t)}}}}),s=(e,t)=>{const a=e.__vccOpts||e;for(const[o,r]of t)a[o]=r;return a},u={class:"widget-list"},g={class:"widget-title"},p=["onClick"],m={class:"widget-body"};const f=s(c,[["render",function(e,o,r,n,l,i){const d=t.QIcon,c=a.resolveComponent("draggable");return a.openBlock(),a.createElementBlock("div",u,[(a.openBlock(!0),a.createElementBlock(a.Fragment,null,a.renderList(e.widgetGroups,((t,o)=>(a.openBlock(),a.createElementBlock("div",{key:o},[a.createElementVNode("div",g,a.toDisplayString(t.title),1),a.createVNode(c,{modelValue:t.list,"onUpdate:modelValue":e=>t.list=e,"item-key":"schemaName",draggable:".widget-item",sort:!1,group:{name:"widgetGroup",pull:"clone",put:!1},clone:e.cloneWidget},{item:a.withCtx((({element:t})=>[a.createElementVNode("div",{class:"widget-item",onClick:a=>e.addWidget(t)},[a.createElementVNode("div",m,[a.createVNode(d,{name:t.icon},null,8,["name"]),a.createTextVNode(" "+a.toDisplayString(t.title),1)])],8,p)])),_:2},1032,["modelValue","onUpdate:modelValue","clone"])])))),128))])}],["__scopeId","data-v-b1550002"]]);const b=s({name:"HDynamicForms",components:{HWidgetPanel:f},props:{title:{type:String,default:"Dante Cloud Form Designer"},container:{type:Boolean,default:!1},height:{type:String,default:"90vh"}},setup(){const e=a.ref(!1),t=a.ref(!1);return{leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value},rightDrawerOpen:t,toggleRightDrawer(){t.value=!t.value}}}},[["render",function(e,o,r,n,l,i){const d=t.QBtn,c=t.QToolbarTitle,s=t.QToolbar,u=t.QHeader,g=f,p=t.QDrawer,m=t.QLayout;return a.openBlock(),a.createBlock(m,{view:"lHr LpR fFf",container:r.container,class:"bg-grey-2",style:a.normalizeStyle(`height: ${r.height}`)},{default:a.withCtx((()=>[a.createVNode(u,{bordered:"",class:"text-primary bg-white"},{default:a.withCtx((()=>[a.createVNode(s,null,{default:a.withCtx((()=>[a.createVNode(d,{dense:"",flat:"",round:"",icon:"menu",onClick:o[0]||(o[0]=e=>n.leftDrawerOpen=!n.leftDrawerOpen)}),a.createVNode(c,null,{default:a.withCtx((()=>[a.createTextVNode(a.toDisplayString(r.title),1)])),_:1})])),_:1})])),_:1}),a.createVNode(p,{"show-if-above":"",modelValue:n.leftDrawerOpen,"onUpdate:modelValue":o[1]||(o[1]=e=>n.leftDrawerOpen=e),side:"left",behavior:"desktop",bordered:""},{default:a.withCtx((()=>[a.createVNode(g)])),_:1},8,["modelValue"]),a.createVNode(p,{"show-if-above":"",modelValue:n.rightDrawerOpen,"onUpdate:modelValue":o[2]||(o[2]=e=>n.rightDrawerOpen=e),side:"right",behavior:"desktop",bordered:""},null,8,["modelValue"])])),_:1},8,["container","style"])}]]);b.install=e=>{e.component(b.name,b)};const D=[b],h={install:e=>{D.map((t=>e.component(t.name,t)))}};Object.defineProperty(e,"lodash",{enumerable:!0,get:()=>n.lodash}),Object.defineProperty(e,"DataObjectUtils",{enumerable:!0,get:()=>l.DataObjectUtils}),Object.defineProperty(e,"WIDGET_DEFINITIONS",{enumerable:!0,get:()=>l.WIDGET_DEFINITIONS}),e.HDynamicForms=b,e.default=h,e.useDataObjectStore=d,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
