!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("quasar"),require("vue"),require("@herodotus/components"),require("@herodotus/bpmn-apis"),require("@herodotus/core"),require("bpmn-js/lib/Modeler"),require("bpmn-js-properties-panel"),require("bpmn-js-token-simulation"),require("camunda-bpmn-moddle/resources/camunda"),require("bpmn-js/lib/Viewer")):"function"==typeof define&&define.amd?define(["exports","quasar","vue","@herodotus/components","@herodotus/bpmn-apis","@herodotus/core","bpmn-js/lib/Modeler","bpmn-js-properties-panel","bpmn-js-token-simulation","camunda-bpmn-moddle/resources/camunda","bpmn-js/lib/Viewer"],o):o((e="undefined"!=typeof globalThis?globalThis:e||self)["@herodotus/bpmn-designer"]={},e.quasar,e.vue,e.HerodotusComponents,e.HerodotusBpmnApis,e.HerodotusCore,e.BpmnJsLibModeler,e.BpmnJsPropertiesPanel,e.BpmnJsTokenSimulation,e.CamundaBpmnModdleResourcesCamunda,e.BpmnJsLibViewer)}(this,function(e,o,t,n,a,l,i,r,d,s,c){"use strict";const m=(e,o)=>{const t=e.__vccOpts||e;for(const[n,a]of o)t[n]=a;return t};const p=m(t.defineComponent({name:"HBpmnDesignerToolbar",components:{HListItem:n.HListItem,HSwitch:n.HSwitch,HTextField:n.HTextField},props:{file:{type:String,required:!0},zoom:{type:Number,default:1}},emits:["update:file","downloadXml","downloadSvg","downloadBpmn","alignLeft","alignRight","alignTop","alignBottom","alignHorizontalCenter","alignVerticalCenter","zoomMinus","zoomPlus","zoomReset","undo","redo","refresh","simulation","save"],setup(e,{emit:o}){const n=t.ref(null),a=t.ref(!1),l=t.ref(!1),i=t.ref(""),r=t.computed({get:()=>e.file,set:e=>{o("update:file",e)}}),d=t.ref(""),s=t.ref(""),c=t.ref(!1),m=t.ref(!1),p=t.ref(!1);t.watch(n,e=>{(async e=>{if(e){const o=await e.text();i.value=e.name,o&&(r.value=o)}else r.value=""})(e)}),t.watch(()=>i.value,e=>{e&&(d.value=e,p.value=!0)},{immediate:!0}),t.watch(m,e=>{e&&(c.value=!0)},{immediate:!0});return{bpmnModelFile:n,onDownloadXml:()=>{o("downloadXml")},onDownloadSvg:()=>{o("downloadSvg")},onDownloadBpmn:()=>{o("downloadBpmn")},onAlignLeft:()=>{o("alignLeft")},onAlignRight:()=>{o("alignRight")},onAlignTop:()=>{o("alignTop")},onAlignBottom:()=>{o("alignBottom")},onAlignHorizontalCenter:()=>{o("alignHorizontalCenter")},onAlignVerticalCenter:()=>{o("alignVerticalCenter")},onZoomMinus:()=>{o("zoomMinus")},onZoomPlus:()=>{o("zoomPlus")},onZoomReset:()=>{o("zoomReset")},onUndo:()=>{o("undo")},onRedo:()=>{o("redo")},onRefresh:()=>{o("refresh")},simulation:a,onSimulation:()=>{a.value=!a.value,o("simulation")},showUploadDialog:l,onSave:()=>{l.value=!1;const e={deploymentName:d.value,enableDuplicateFiltering:c.value,deployChangedOnly:m.value,resource:r.value};o("save",e)},name:i,deploymentName:d,tenantId:s,enableDuplicateCheck:c,deployChangedOnly:m,disableNameInput:p}}}),[["render",function(e,n,a,l,i,r){const d=o.QIcon,s=o.QFile,c=o.QSeparator,m=t.resolveComponent("h-list-item"),p=o.QList,u=o.QBtnDropdown,g=t.resolveComponent("h-button"),h=o.QBtnGroup,v=o.QBtn,w=o.QCardSection,f=t.resolveComponent("h-text-field"),y=t.resolveComponent("h-switch"),b=o.QCardActions,C=o.QCard,V=o.QDialog,x=o.QToolbar,E=t.resolveDirective("close-popup");return t.openBlock(),t.createBlock(x,{class:"bg-primary text-white q-px-none"},{default:t.withCtx(()=>[t.createVNode(s,{modelValue:e.bpmnModelFile,"onUpdate:modelValue":n[0]||(n[0]=o=>e.bpmnModelFile=o),"label-color":"white","bg-color":"primary",square:"",standout:"",dense:"",clearable:"",label:"打开"},{prepend:t.withCtx(()=>[t.createVNode(d,{name:"mdi-folder-open",color:"white"})]),_:1},8,["modelValue"]),t.createVNode(c,{vertical:"",color:"white"}),t.createVNode(u,{stretch:"",flat:"",label:"下载",dense:"",icon:"mdi-download-box"},{default:t.withCtx(()=>[t.createVNode(p,null,{default:t.withCtx(()=>[t.createVNode(p,null,{default:t.withCtx(()=>[t.createVNode(m,{label:"下载为XML文件",icon:"mdi-xml",onClick:n[1]||(n[1]=o=>e.onDownloadXml())}),t.createVNode(m,{label:"下载为SVG文件",icon:"mdi-svg",onClick:n[2]||(n[2]=o=>e.onDownloadSvg())}),t.createVNode(m,{label:"下载为BPMN文件",icon:"mdi-codepen",onClick:n[3]||(n[3]=o=>e.onDownloadBpmn())})]),_:1})]),_:1})]),_:1}),t.createVNode(c,{vertical:"",color:"white"}),t.createVNode(u,{stretch:"",flat:"",label:"代码",dense:"",icon:"mdi-eye"},{default:t.withCtx(()=>[t.createVNode(p,null,{default:t.withCtx(()=>[t.createVNode(p,null,{default:t.withCtx(()=>[t.createVNode(m,{label:"预览XML",icon:"mdi-xml"}),t.createVNode(m,{label:"预览JSON",icon:"mdi-code-json"})]),_:1})]),_:1})]),_:1}),t.createVNode(c,{vertical:"",color:"white"}),t.createVNode(g,{stretch:"",flat:"",color:"primary",dense:"","text-color":"white",icon:e.simulation?"mdi-play-pause":"mdi-play",tooltip:e.simulation?"退出模拟":"开启模拟",label:e.simulation?"退出模拟":"开启模拟",onClick:n[4]||(n[4]=o=>e.onSimulation())},null,8,["icon","tooltip","label"]),t.createVNode(c,{vertical:"",color:"white"}),t.createVNode(g,{stretch:"",flat:"",color:"primary",dense:"","text-color":"white",icon:"mdi-cloud-upload",tooltip:"上传至服务器",label:"上传云端",onClick:n[5]||(n[5]=o=>e.showUploadDialog=!0)}),t.createVNode(c,{vertical:"",color:"white"}),t.createVNode(h,{class:"q-ml-sm"},{default:t.withCtx(()=>[t.createVNode(g,{color:"white","text-color":"grey-8",class:"q-px-sm",dense:"",icon:"mdi-align-horizontal-left",tooltip:"向左对齐",onClick:n[6]||(n[6]=o=>e.onAlignLeft())}),t.createVNode(c,{vertical:"",color:"grey-6"}),t.createVNode(g,{color:"white","text-color":"grey-8",class:"q-px-sm",dense:"",icon:"mdi-align-horizontal-right",tooltip:"向右对齐",onClick:n[7]||(n[7]=o=>e.onAlignRight())}),t.createVNode(c,{vertical:"",color:"grey-6"}),t.createVNode(g,{color:"white","text-color":"grey-8",class:"q-px-sm",dense:"",icon:"mdi-align-vertical-top",tooltip:"向上对齐",onClick:n[8]||(n[8]=o=>e.onAlignTop())}),t.createVNode(c,{vertical:"",color:"grey-6"}),t.createVNode(g,{color:"white","text-color":"grey-8",class:"q-px-sm",dense:"",icon:"mdi-align-vertical-bottom",tooltip:"向下对齐",onClick:n[9]||(n[9]=o=>e.onAlignBottom())}),t.createVNode(c,{vertical:"",color:"grey-6"}),t.createVNode(g,{color:"white","text-color":"grey-8",class:"q-px-sm",dense:"",icon:"mdi-align-horizontal-center",tooltip:"水平居中",onClick:n[10]||(n[10]=o=>e.onAlignHorizontalCenter())}),t.createVNode(c,{vertical:"",color:"grey-6"}),t.createVNode(g,{color:"white","text-color":"grey-8",class:"q-px-sm",dense:"",icon:"mdi-align-vertical-center",tooltip:"垂直居中",onClick:n[11]||(n[11]=o=>e.onAlignVerticalCenter())})]),_:1}),t.createVNode(h,{class:"q-ml-xs"},{default:t.withCtx(()=>[t.createVNode(g,{color:"white","text-color":"grey-8",class:"q-px-sm",dense:"",icon:"mdi-magnify-minus",tooltip:"缩小视图",disable:e.zoom<.2,onClick:n[12]||(n[12]=o=>e.onZoomMinus())},null,8,["disable"]),t.createVNode(c,{vertical:"",color:"grey-6"}),t.createVNode(v,{color:"white","text-color":"grey-8",dense:"",class:"q-px-sm",label:Math.floor(10*e.zoom*10)+"%",disable:""},null,8,["label"]),t.createVNode(c,{vertical:"",color:"grey-6"}),t.createVNode(g,{color:"white","text-color":"grey-8",class:"q-px-sm",dense:"",icon:"mdi-magnify-plus",tooltip:"放大视图",disable:e.zoom>4,onClick:n[13]||(n[13]=o=>e.onZoomPlus())},null,8,["disable"]),t.createVNode(c,{vertical:"",color:"grey-6"}),t.createVNode(g,{color:"white","text-color":"grey-8",class:"q-px-sm",dense:"",icon:"mdi-magnify-scan",tooltip:"重置视图并居中",onClick:n[14]||(n[14]=o=>e.onZoomReset())})]),_:1}),t.createVNode(h,{class:"q-mx-xs"},{default:t.withCtx(()=>[t.createVNode(g,{color:"white","text-color":"grey-8",class:"q-px-sm",dense:"",icon:"mdi-undo-variant",tooltip:"撤销",onClick:e.onUndo},null,8,["onClick"]),t.createVNode(c,{vertical:"",color:"grey-6"}),t.createVNode(g,{color:"white","text-color":"grey-8",class:"q-px-sm",dense:"",icon:"mdi-redo-variant",tooltip:"恢复",onClick:e.onRedo},null,8,["onClick"]),t.createVNode(c,{vertical:"",color:"grey-6"}),t.createVNode(g,{color:"white","text-color":"grey-8",class:"q-px-sm",dense:"",icon:"mdi-refresh",onClick:e.onRefresh},null,8,["onClick"])]),_:1}),t.createVNode(V,{modelValue:e.showUploadDialog,"onUpdate:modelValue":n[19]||(n[19]=o=>e.showUploadDialog=o)},{default:t.withCtx(()=>[t.createVNode(C,null,{default:t.withCtx(()=>[t.createVNode(w,null,{default:t.withCtx(()=>[...n[20]||(n[20]=[t.createElementVNode("div",{class:"text-h6"},"模型信息",-1)])]),_:1}),t.createVNode(c),t.createVNode(w,{style:{"max-height":"50vh"},class:"scroll"},{default:t.withCtx(()=>[t.createVNode(f,{modelValue:e.deploymentName,"onUpdate:modelValue":n[15]||(n[15]=o=>e.deploymentName=o),label:"模型名称",placeholder:"请输入模型名称",disable:e.disableNameInput},null,8,["modelValue","disable"]),t.createVNode(y,{modelValue:e.enableDuplicateCheck,"onUpdate:modelValue":n[16]||(n[16]=o=>e.enableDuplicateCheck=o),label:"开启部署重复检查"},null,8,["modelValue"]),t.createVNode(y,{modelValue:e.deployChangedOnly,"onUpdate:modelValue":n[17]||(n[17]=o=>e.deployChangedOnly=o),label:"仅在模型存在变化时部署"},null,8,["modelValue"])]),_:1}),t.createVNode(c),t.createVNode(b,{align:"right"},{default:t.withCtx(()=>[t.withDirectives(t.createVNode(v,{label:"取消",color:"red"},null,512),[[E]]),t.createVNode(v,{label:"部署",color:"primary",onClick:n[18]||(n[18]=o=>e.onSave())})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}]]),u='<?xml version="1.0" encoding="UTF-8"?>\n<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd" id="sample-diagram" targetNamespace="http://bpmn.io/schema/bpmn">\n  <bpmn2:process id="Process_1" isExecutable="false">\n    <bpmn2:startEvent id="StartEvent_1"/>\n  </bpmn2:process>\n  <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">\n      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">\n        <dc:Bounds height="36.0" width="36.0" x="412.0" y="240.0"/>\n      </bpmndi:BPMNShape>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>',g=(e,o)=>{const{warnings:t,message:n}=o;o(e,t,n)},h=(e,o)=>{if(e&&o){const t=document.createElement("a");t.download=o,t.href=e,t.click(),URL.revokeObjectURL(t.href)}},v=(e,o="diagram",t)=>({filename:`${o}.${e}`,href:`data:application/${"svg"===e?"text/xml":"bpmn20-xml"};charset=UTF-8,${encodeURIComponent(t)}`,data:t}),w={"Activate the create/remove space tool":"启动创建/删除空间工具","Activate the global connect tool":"启动全局连接工具","Activate the hand tool":"启动手动工具","Activate the lasso tool":"启动 Lasso 工具","Ad-hoc":"Ad-hoc子流程","Add Lane above":"添加到通道之上","Add Lane below":"添加到通道之下","Append compensation activity":"追加补偿活动","Append {type}":"追加 {type}","Business Rule Task":"规则任务","Call Activity":"引用流程","Cancel Boundary Event":"取消边界事件","Cancel End Event":"结束取消事件","Change type":"更改类型","Collapsed Pool":"折叠池","Compensation Boundary Event":"补偿边界事件","Compensation End Event":"结束补偿事件","Compensation Intermediate Throw Event":"中间补偿抛出事件","Compensation Start Event":"补偿启动事件","Complex Gateway":"复杂网关","Conditional Boundary Event (non-interrupting)":"条件边界事件 (非中断)","Conditional Boundary Event":"条件边界事件","Conditional Intermediate Catch Event":"中间条件捕获事件","Conditional Start Event (non-interrupting)":"条件启动事件 (非中断)","Conditional Start Event":"条件启动事件","Connect using Association":"文本关联","Connect using DataInputAssociation":"数据关联","Connect using Sequence/MessageFlow or Association":"消息关联","Create IntermediateThrowEvent/BoundaryEvent":"创建中间抛出/边界事件","Create Pool/Participant":"创建池/参与者","Create expanded SubProcess":"创建可折叠子流程","Create {type}":"创建 {type}","Divide into three Lanes":"分成三条通道","Divide into two Lanes":"分成两条通道","End Event":"结束事件","Error Boundary Event":"错误边界事件","Error End Event":"结束错误事件","Error Start Event":"错误启动事件","Escalation Boundary Event (non-interrupting)":"升级边界事件 (非中断)","Escalation Boundary Event":"升级边界事件","Escalation End Event":"结束升级事件","Escalation Intermediate Throw Event":"中间升级抛出事件","Escalation Start Event (non-interrupting)":"升级启动事件 (非中断)","Escalation Start Event":"升级启动事件","Event Sub Process":"事件子流程","Event based Gateway":"事件网关","Exclusive Gateway":"独占网关","Expanded Pool":"展开池","Inclusive Gateway":"包容网关","Intermediate Throw Event":"中间抛出事件","Link Intermediate Catch Event":"中间链接捕获事件","Link Intermediate Throw Event":"中间链接抛出事件",Loop:"循环","Manual Task":"手动任务","Message Boundary Event (non-interrupting)":"消息边界事件 (非中断)","Message Boundary Event":"消息边界事件","Message End Event":"结束消息事件","Message Intermediate Catch Event":"中间消息捕获事件","Message Intermediate Throw Event":"中间消息抛出事件","Message Start Event (non-interrupting)":"消息启动事件 (非中断)","Message Start Event":"消息启动事件","Parallel Gateway":"并行网关","Parallel Multi Instance":"并行多实例","Receive Task":"接受任务",Remove:"移除","Script Task":"脚本任务","Send Task":"发送任务","Sequential Multi Instance":"串行多实例","Service Task":"服务任务","Signal Boundary Event (non-interrupting)":"信号边界事件 (非中断)","Signal Boundary Event":"信号边界事件","Signal End Event":"结束信号事件","Signal Intermediate Catch Event":"中间信号捕获事件","Signal Intermediate Throw Event":"中间信号抛出事件","Signal Start Event (non-interrupting)":"信号启动事件 (非中断)","Signal Start Event":"信号启动事件","Start Event":"开始事件","Sub Process (collapsed)":"可折叠子流程","Sub Process (expanded)":"可展开子流程","Sub Process":"子流程",Task:"任务","Terminate End Event":"终止边界事件","Timer Boundary Event (non-interrupting)":"定时边界事件 (非中断)","Timer Boundary Event":"定时边界事件","Timer Intermediate Catch Event":"中间定时捕获事件","Timer Start Event (non-interrupting)":"定时启动事件 (非中断)","Timer Start Event":"定时启动事件",Transaction:"事务","User Task":"用户任务","already rendered {element}":"{element} 已呈现","diagram not part of bpmn:Definitions":"图表不是 bpmn:Definitions 的一部分","element required":"需要元素","element {element} referenced by {referenced}#{property} not yet drawn":"元素 {element} 的引用 {referenced}#{property} 尚未绘制","failed to import {element}":"{element} 导入失败","flow elements must be children of pools/participants":"元素必须是池/参与者的子级","more than {count} child lanes":"超过 {count} 条通道","no diagram to display":"没有要显示的图表","no parent for {element} in {parent}":"在 {element} 中没有父元素 {parent}","no process or collaboration to display":"没有可显示的流程或协作","no shape type specified":"未指定形状类型","out of bounds release":"越界释放","Asynchronous Continuations":"异步延续","Candidate starter":"候选发起人",create:"创建","Create new list item":"创建新列表项",Documentation:"文档",General:"常规","Execution listeners":"执行监听器","Extension properties":"扩展属性","External task":"外部任务",Forms:"表单","History cleanup":"历史清理",Inputs:"输入","Job execution":"调度执行",Outputs:"输出",Tasklist:"任务列表"};function f(e,o){o=o||{};return(e=w[e]||e).replace(/{([^}]+)}/g,function(e,t){return o[t]||"{"+t+"}"})}function y(e,o,n="camunda"){let a={};const c=t.ref(1);t.ref(!1);const{createBpmnModeler:m}=function(e,o,t="camunda"){const n=()=>{const e=[],o={translate:["value",f]};return e.push(o),e.push(d),e.push(r.BpmnPropertiesPanelModule),e.push(r.BpmnPropertiesProviderModule),e.push(r.CamundaPlatformPropertiesProviderModule),e},a=()=>{const e={};return"camunda"===t&&(e.camunda=s),e};return{createBpmnModeler:()=>new i({container:e,propertiesPanel:{parent:o},keyboard:{bindTo:document},additionalModules:n(),moddleExtensions:a()})}}(e,o,n),p=e=>a.get(e),u=()=>p("canvas"),w=()=>p("commandStack"),y=async e=>{try{const o=await a.importXML(e),{warnings:t}=o}catch(o){g("Could not create BPMN 2.0 diagram!",o)}},b=()=>{const e=p("eventBus");["diagram.init","element.hover","element.out","element.click","element.dblclick","element.mousedown","element.mouseup"].forEach(o=>{e.on(o,e=>{o.replace(/\./g,"-"),e&&e.element})})},C=async(e,o="diagram")=>{try{if("xml"===e||"bpmn"===e){const{xml:t}=await a.saveXML(),{href:n,filename:l}=v(e,o,t);h(n,l)}else{const{svg:e}=await a.saveSVG(),{href:t,filename:n}=v("svg",o,e);h(t,n)}}catch(t){g("Could not download diagram!",t)}},V=e=>{const o=p("alignElements"),t=p("selection").get();!t||t.length<=1?l.toast.warning("请按住 Ctrl 键选择多个元素对齐"):l.standardDeleteNotify(()=>{o.trigger(t,e)})};return{init:e=>{a=m(),b(),y(e)},destroy:()=>{l.lodash.isEmpty(a)||(a.destroy(),a={})},importDiagram:y,downloadAsXml:(e="diagram")=>{C("xml",e)},downloadAsBpmn:(e="diagram")=>{C("bpmn",e)},downloadAsSvg:(e="diagram")=>{C("svg",e)},undo:()=>w().undo(),redo:()=>w().redo(),zoom:c,zoomMinus:(e=.1)=>{const o=Math.floor(100*c.value-100*e)/100;c.value=o,u().zoom(c.value)},zoomPlus:(e=.1)=>{const o=Math.floor(100*c.value+100*e)/100;c.value=o,u().zoom(c.value)},zoomReset:()=>{c.value=1,u().zoom("fit-viewport","auto")},alignLeft:()=>{V("left")},alignRight:()=>{V("right")},alignTop:()=>{V("top")},alignBottom:()=>{V("bottom")},alignHorizontalCenter:()=>{V("center")},alignVerticalCenter:()=>{V("middle")},playSimulation:()=>{p("toggleMode").toggleMode()}}}function b(e,o,t){let n={};return{init:a=>{n=new c({container:e,height:o}),(async e=>{await n.importXML(e);const o=n.get("canvas");o.zoom("fit-viewport","auto"),l.lodash.isEmpty(t)||t.forEach(e=>{o.addMarker(e,"highlight");const t=document.querySelector(".highlight")?.querySelector(".djs-visual rect");t&&t.setAttribute("stroke-dasharray","4,4")})})(a)},destroy:()=>{l.lodash.isEmpty(n)||(n.destroy(),n={})}}}const C=m(t.defineComponent({name:"HBpmnDesigner",props:{diagram:{type:String,default:""},type:{type:String,default:"camunda"},service:{type:Object,required:!0},height:{type:String,default:"90vh"}},setup(e){const o=t.ref(""),{init:n,destroy:a,importDiagram:i,downloadAsXml:r,downloadAsBpmn:d,downloadAsSvg:s,undo:c,redo:m,zoom:p,zoomPlus:g,zoomMinus:h,zoomReset:v,alignLeft:w,alignRight:f,alignTop:b,alignBottom:C,alignHorizontalCenter:V,alignVerticalCenter:x,playSimulation:E}=y("#bpmn-canvas","#bpmn-properties-panel",e.type);t.onBeforeUnmount(()=>{a()}),t.onMounted(()=>{try{n(u)}catch(e){}}),t.watch(o,e=>{i(e)});return{openedDiagram:o,onReset:()=>{i(u)},importDiagram:i,downloadAsXml:r,downloadAsBpmn:d,downloadAsSvg:s,undo:c,redo:m,zoom:p,zoomPlus:g,zoomMinus:h,zoomReset:v,alignLeft:w,alignRight:f,alignTop:b,alignBottom:C,alignHorizontalCenter:V,alignVerticalCenter:x,playSimulation:E,onSave:o=>{e.service.create(o).then(e=>{l.toast.success("模型部署成功!")}).catch(e=>{l.toast.error("模型部署失败!")})}}}}),[["render",function(e,n,a,l,i,r){const d=p,s=t.resolveComponent("h-column"),c=t.resolveComponent("h-row"),m=o.QCard;return t.openBlock(),t.createBlock(m,null,{default:t.withCtx(()=>[t.createVNode(c,{style:t.normalizeStyle(`height: ${e.height}`)},{default:t.withCtx(()=>[t.createVNode(s,{cols:10},{default:t.withCtx(()=>[t.createVNode(d,{file:e.openedDiagram,"onUpdate:file":n[0]||(n[0]=o=>e.openedDiagram=o),zoom:e.zoom,onDownloadXml:n[1]||(n[1]=o=>e.downloadAsXml()),onDownloadSvg:n[2]||(n[2]=o=>e.downloadAsSvg()),onDownloadBpmn:n[3]||(n[3]=o=>e.downloadAsBpmn()),onAlignRight:n[4]||(n[4]=o=>e.alignRight()),onAlignLeft:n[5]||(n[5]=o=>e.alignLeft()),onAlignTop:n[6]||(n[6]=o=>e.alignTop()),onAlignBottom:n[7]||(n[7]=o=>e.alignBottom()),onAlignHorizontalCenter:n[8]||(n[8]=o=>e.alignHorizontalCenter()),onAlignVerticalCenter:n[9]||(n[9]=o=>e.alignVerticalCenter()),onZoomPlus:n[10]||(n[10]=o=>e.zoomPlus()),onZoomMinus:n[11]||(n[11]=o=>e.zoomMinus()),onZoomReset:n[12]||(n[12]=o=>e.zoomReset()),onRedo:n[13]||(n[13]=o=>e.redo()),onUndo:n[14]||(n[14]=o=>e.undo()),onRefresh:n[15]||(n[15]=o=>e.onReset()),onSimulation:n[16]||(n[16]=o=>e.playSimulation()),onSave:e.onSave},null,8,["file","zoom","onSave"]),n[17]||(n[17]=t.createElementVNode("div",{class:"bpmn-container full-height"},[t.createElementVNode("div",{id:"bpmn-canvas",class:"bpmn-canvas"})],-1))]),_:1}),t.createVNode(s,{cols:2},{default:t.withCtx(()=>[...n[18]||(n[18]=[t.createElementVNode("div",{id:"bpmn-properties-panel",class:"full-height"},null,-1)])]),_:1})]),_:1},8,["style"])]),_:1})}]]),V=t.defineComponent({name:"HBpmnViewer",props:{diagram:{type:String,default:""},nodes:{type:Array,default:()=>[]},height:{type:[String,Number],default:"500px"}},setup(e){const{init:o,destroy:n}=b("#bpmn-viewer",e.height,e.nodes);return t.onBeforeUnmount(()=>{n()}),t.onMounted(()=>{try{o(e.diagram)}catch(t){}}),{}}}),x={id:"bpmn-viewer",class:"bpmn-viewer-canvas"};const E=m(V,[["render",function(e,o,n,a,l,i){return t.openBlock(),t.createElementBlock("div",x)}]]);C.install=e=>{e.component(C.name,C)},E.install=e=>{e.component(E.name,E)};const N=[C,E],S={install:e=>{N.map(o=>e.component(o.name,o))}};Object.defineProperty(e,"DeploymentService",{enumerable:!0,get:()=>a.DeploymentService}),Object.defineProperty(e,"Swal",{enumerable:!0,get:()=>l.Swal}),Object.defineProperty(e,"lodash",{enumerable:!0,get:()=>l.lodash}),Object.defineProperty(e,"standardDeleteNotify",{enumerable:!0,get:()=>l.standardDeleteNotify}),Object.defineProperty(e,"toast",{enumerable:!0,get:()=>l.toast}),e.Translator=f,e.default=S,e.download=h,e.downloadEncode=v,e.error=(e,...o)=>{},e.exception=g,e.log=(e,...o)=>{},Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
